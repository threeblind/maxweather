# 高温大学駅伝 速報サイト

このプロジェクトは、「高温大学駅伝」という架空の駅伝イベントのWeb速報サイトです。

最大の特徴は、各選手の走行距離を、その選手が担当する**アメダス観測地点の最高気温**に見立ててシミュレーションしている点です。バックエンドのPythonスクリプトが定期的に最新の気象データを取得し、フロントエンドのJavaScriptがそれをリアルタイムで画面に反映させます。

## 🌐 デモ

GitHub Pagesで公開中: [https://threeblind.github.io/maxweather/](https://threeblind.github.io/maxweather/)

## 🚀 機能
- **総合順位**: 全チームのリアルタイム順位、現在走者、総距離などを30秒ごとに自動更新。
- **区間順位**: 各チームが区間を通過した時点での総合順位を一覧表示。1位はハイライトされます。
- **順位変動グラフ**: 全チームの総合順位の推移を折れ線グラフで可視化。（区間順位セクションからモーダルで表示）
- **個人記録**: 現在進行中の区間における、選手の走行距離をランキング形式で表示。選手名クリックで全日程の記録をポップアップ表示。
- **区間記録**: 完了した区間ごとの全選手の成績をランキング形式で表示。
- **エントリーリスト**: 全チームの登録選手、監督、チーム紹介などをカード形式で表示。
- **コースマップ**: Google My Maps を埋め込み、駅伝のコースを確認できます。
- **大会概要**: 大会ルールやスケジュールなどの詳細情報を表示。
- **アメダス地点情報**: 地点名での気温検索や、全国の最高気温ランキングを表示。

## 🛠️ 仕組み

1.  **データ更新 (バックエンド)**
    - `update_realtime.sh`（リアルタイム用）や `commit_daily.sh`（日次確定用）が `generate_report.py` を実行します。
    - Pythonスクリプトが、各選手に割り当てられたアメダス地点の最高気温をYahoo!天気から取得します。
    - 取得した気温を走行距離に見立て、各種速報用JSONファイル（`realtime_report.json`, `individual_results.json`, `rank_history.json`, `leg_rank_history.json`）を更新し、リポジトリにプッシュします。

2.  **画面表示 (フロントエンド)**
    - `app.js` が、リポジトリ上の各種JSONファイルを30秒ごとにフェッチします。
    - 最新データに基づき、DOMを操作して画面上の順位表や各種情報を更新します。

## 📊 主要技術

- **フロントエンド**: HTML, CSS, JavaScript (Vanilla JS)
- **バックエンド**: Python, Shell Script
- **データソース**: Yahoo!天気
- **ホスティング**: GitHub Pages

## 🔧 ローカルでの動かし方

### フロントエンドの確認

```bash
# ローカルサーバーを起動（例：Python）
python -m http.server 8000

# ブラウザでアクセス
# http://localhost:8000
```

## 📝 ライセンス

MIT License

## 🤝 コントリビューション

プルリクエストやイシューの報告を歓迎します！

## ⚠️ 注意事項

- このアプリケーションはYahoo!天気のデータを使用しています
- データの取得にはプロキシサービスを使用しているため、レスポンス時間が遅い場合があります
- 商用利用の場合は、適切なAPIの使用を検討してください